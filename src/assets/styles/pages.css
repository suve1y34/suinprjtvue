.page{
  display: flex;
  gap: 0;
  flex-direction: column;
}
.page__head{ display:flex; justify-content:space-between; align-items:center; }
.page__controls{ display:flex; gap: 8px; align-items:center; }
.page__left{ display:flex; align-items:center; }
.page__toolbar{
  display:flex; gap:6px; align-items:center; justify-content:center;
  margin: 0;               /* 여백 최소화 */
}
.page__toolbar .input { height: 36px; padding: 6px 10px; }
.page__toolbar select.btn { height: 32px; }

/* 사이트 타이틀 크게 */
.page-title--xl .brand { font-size: 26px; line-height: 1.1; }
.state{ font-size:var(--fz-14); }
.spinner{ font-size:13px; opacity:.8; }

/* Title + Brand */
.page-title{ display:flex; align-items:baseline; gap:10px; }
.brand{
  display:flex; justify-content:center; gap:6px;
  font-weight: 800; font-size: 26px;
  line-height: 1.1; margin: 0;
}
.brand__chek{ color: var(--color-brand); }
.brand__dam{ color: var(--color-ink); }

/* 상단 바 */
.page__bar{
  margin-bottom: 2px;
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  background: var(--color-surface);
  padding: 6px 10px;              /* 적당한 패딩 */
  border-radius: var(--radius-lg);
  max-height: 100px;               /* 최대 높이 제한 */
  overflow: hidden;               /* 내용이 커져도 바 높이 안 넘김 */
}

/* 중앙 타이틀 */
.page__bar .page-title{
  justify-self:center;
}

/* 우측 컨트롤 묶음 */
.page__bar .page__controls{
  justify-self:end;
  display:flex;
  gap: var(--sp-12);
  align-items:center;
}

/* 페이지 내 통계 라인 */
.page__stats{
  display:flex; justify-content:center; align-items:center;
  gap: 8px; margin: 2px 0;    /* -6px/6px → 상하 2px */
  color: var(--color-text); font-size: 13px;
}
.page__stats .stats__sep{ opacity:.6; }
.page__stats strong{ font-weight: 800; }

.page__stack{
  display: flex;
  flex-direction: column;
  row-gap: 8px;            /* 세 줄 간격 */
  justify-items: center;   /* 가운데 정렬 */
  margin-top: 4px;
}

/* 로딩/에러 중앙정렬 */
.state--center{
  min-height: 30svh;          /* 40dvh → 30svh */
  display:flex; align-items:center; justify-content:center;
}

.user-greet{
  background: transparent;
  border: 1px solid transparent;
  padding: 6px 10px;
  border-radius: var(--radius);
  color: var(--color-ink);
  font-weight: 700;
  cursor: pointer;
}
.user-greet:hover{
  background: var(--color-surface);
  border-color: var(--color-border);
}
.user-greet__name{
  color: var(--color-brand);
  margin-right: 2px;
}

/* 다크 모드 가독성 보강 */
.theme-dark .user-greet{
  color: var(--color-text);
}
.theme-dark .user-greet:hover{
  background: rgba(255,255,255,0.06);
  border-color: var(--color-border);
}

.goal-progress{
  display:flex; justify-content:center; align-items:center;
  gap: 8px; margin: 0;
  font-size: 16px; line-height: 1.2; color: var(--color-text);
}
.goal-progress__label{ font-weight:700; color: var(--color-brand); letter-spacing:.2px; }
.goal-progress__nums{ font-weight:800; }
.goal-progress__slash{ opacity:.6; margin:0 2px; }
.goal-progress__percent{ font-weight:700; opacity:.9; }

/* 통계 라인 */
.page__stats{
  display:flex; justify-content:center; align-items:center;
  gap: 8px; margin: 0;
  color: var(--color-text); font-size: 13px;
}
.page__stats .stats__sep{ opacity:.6; }
.page__stats strong{ font-weight: 800; }

/* 로딩/에러 중앙정렬(과한 고정 높이 피함) */
.state--center{
  min-height: 28svh;
  display:flex; align-items:center; justify-content:center;
}

.summarybar{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; padding:10px 0; border-bottom:1px solid var(--color-border);
}
.summarybar__left{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.summarybar__right{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.summarybar .dot{ opacity:.45; }
.summary-item .muted{ opacity:.65; margin-left:2px; }
.summary-btn{ margin-left:4px; }
.input--sm{ height:34px; padding:6px 10px; }
.select--sm{ height:34px; padding:6px 10px; }

/* ── 접이식 필터 패널 ─────────────────────────────── */
.filter-panel{ margin:10px 0 6px; }
.filter-panel > summary{
  cursor:pointer; padding:8px 12px; border:1px solid var(--color-border);
  border-radius:10px; background:var(--color-elev); user-select:none; list-style:none;
}
.filter-panel > summary::-webkit-details-marker{ display:none; }
.filter-panel[open] > summary{ border-bottom-left-radius:0; border-bottom-right-radius:0; }
.filter-summary{ font-weight:600; font-size:13px; }

.filter-panel__grid{
  border:1px solid var(--color-border); border-top:0; border-radius:0 0 10px 10px;
  padding:12px; display:grid; grid-template-columns: repeat(3, minmax(180px, 1fr)); gap:12px;
  background:var(--color-elev);
}
.fp-field{ display:grid; gap:6px; }
.fp-label{ font-size:12px; opacity:.75; }

@media (max-width: 900px){
  .filter-panel__grid{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .summarybar{ align-items:flex-start; }
  .filter-panel__grid{ grid-template-columns: 1fr; }
}

/* (선택) 큰 화면에서도 과대 확장 막기 — 필요시 유지 */
@media (min-width: 768px){ .page-title--xl .brand{ font-size: 30px; } }
@media (min-width: 1200px){ .page-title--xl .brand{ font-size: 32px; } }

/* ===== 로딩 오버레이 ===== */
.overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  background: rgba(0, 0, 0, 0.28);      /* 어둡게 */
  backdrop-filter: blur(4px);            /* 배경 블러 */
  -webkit-backdrop-filter: blur(4px);    /* Safari */
}

/* 중앙 패널 */
.overlay__panel {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 22px 26px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.86);
  box-shadow: 0 8px 32px rgba(0,0,0,0.2);
}

/* 다크 모드 대비 */
@media (prefers-color-scheme: dark) {
  .overlay__panel {
    background: rgba(24, 24, 28, 0.82);
    color: #e9e9e9;
  }
}

/* 스피너 */
.overlay__spinner {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 3px solid currentColor;
  border-top-color: transparent;   /* 회전 효과 */
  animation: spin 0.9s linear infinite;
  opacity: 0.9;
}

.overlay__msg {
  font-size: 14px;
  letter-spacing: 0.2px;
}

/* 회전 애니메이션 */
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* (선택) 오류 텍스트 스타일 - 기존 클래스가 있으면 유지해도 됨 */
.state--error {
  color: #c03221;
  padding: 8px 0;
}