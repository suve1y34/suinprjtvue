/* Bookshelf container */
.shelf{
  --shelf-gap-x: 4px;         /* 좌우 여백(셀 padding 2px × 2) */
  --shelf-gap-y: 10px;        /* 세로 간격 */
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr)); /* 기본: 6열 */
  column-gap: var(--shelf-gap-x);
  row-gap: var(--shelf-gap-y);
  align-items: end;            /* 책등 하단 맞춤 */
  align-content: start;
  line-height: 0;              /* 기존 유지 */
}
.shelf__cell{
  display: flex;
  flex-direction: column;      /* 기존 유지 */
  align-items: center;         /* 수평 중앙 */
  justify-content: flex-end;   /* 수직 하단 정렬 */
  padding: 0 2px;              /* 기존 유지(시각 간격은 grid gap로 관리) */
}
.shelf__progress{ font-size:11px; line-height:1; margin-top:4px; opacity:.8; }
/* 책장 중앙 정렬 옵션 */
.shelf--center{
  margin-left: auto;
  margin-right: auto;
  /* 필요 시 최대 폭 제한 */
  /* max-width: 1440px; */
}

.shelf-wrap {
  display: flex;
  justify-content: center;   /* 가로 중앙 */
  align-items: center;       /* 세로 중앙 */
  min-height: calc(100vh - 140px); /* 헤더 높이 추정치 보정 */
  padding: 12px 0;
}

/* Book spine */
.spine{
  position:relative;
  height:180px;
  display:inline-flex;
  vertical-align:bottom;
  align-items:center;
  justify-content:center;
  writing-mode:vertical-rl;
  text-orientation:mixed;
  margin:0;
  border-radius:2px;
  overflow:hidden;
  border:1px solid rgba(0,0,0,0.1);
  cursor:pointer;
  user-select:none;
}
.spine--dark{ background: var(--color-ink); color:#f0f0f0; }
.spine--dark-2{ background: var(--color-ink-2); color:#f0f0f0; }
.spine--accent{ background: var(--color-accent); color:#fff; }
.spine--light{ background: #bbb; color:#222; } /* 필요 시 유지 */

.spine__title{
  font-size:12px;
  line-height:1.1;
  max-height:92%;
  display:-webkit-box;
  -webkit-line-clamp:12;
  -webkit-box-orient:vertical;
  white-space:normal;
  overflow:hidden;
}

/* Status badge */
.badge{
  position:absolute; top:4px; right:4px;
  font-size:10px; padding:2px 4px; border-radius:3px;
  background:#eee; color:#222; line-height:1;
  pointer-events:none;
}
.badge--plan{ background:#fff; border:1px solid var(--color-brand); color:var(--color-ink); }
.badge--reading{ background: var(--color-accent); color:#fff; }
.badge--done{ background: var(--color-ink); color:#fff; }

/* Status select on hover */
.status-select{
  position:absolute; bottom:4px; right:4px;
  font-size:10px; padding:2px 4px;
  opacity:0; transition:opacity .15s ease;
}
.spine:hover .status-select{ opacity:1; }

.spine--light{
  background: var(--color-surface);
  color: var(--color-ink);          /* 텍스트는 진한 잉크 */
}

.book-head { display: grid; gap: 6px; text-align: center; margin: 4px 0 10px; }
.book-title { font-size: 18px; font-weight: 700; line-height: 1.3; }
.book-author { font-size: 14px; opacity: .9; }
.book-pages { font-size: 13px; opacity: .8; }

/* 입력/셀렉트 공통(버튼 높이와 맞춤) */
.select, .input {
  padding: 6px 10px;
  height: 34px;               /* 전역 .btn 높이와 동일 */
  border: 1px solid #ddd;
  border-radius: 6px;
  min-width: 160px;
}

/* 폼 행(세로 스택) */
.form-col { display: grid; gap: 6px; margin: 10px 0; }
.form-label { font-size: 12px; opacity: .8; }

/* 텍스트에어리어 */
.textarea{
  box-sizing: border-box;
  width: 100%;
  max-width: 100%;
  min-height: 96px;
  padding: 8px 10px;
  border: 1px solid var(--color-line, #e5e7eb);
  border-radius: var(--radius-6, 6px);
  background:#fff;
  color: var(--color-ink, #111);
  font: inherit;
  line-height: 1.45;
  resize: vertical;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}

.textarea::placeholder{
  color: #9aa0a6;                    /* 은은한 플레이스홀더 */
}

.textarea:focus{
  outline: 0;
  border-color: var(--color-brand, #c29a82);
  box-shadow: 0 0 0 3px rgba(194,154,130,.2);  /* 브랜드 포커스 링 */
  background:#fff;
}

.textarea[disabled],
.textarea[readonly]{
  background: #f7f7f7;
  color: #888;
  cursor: not-allowed;
}

/* 밀도 낮은 레이아웃용(선택) */
.textarea--sm{ min-height: 72px; }
.textarea--lg{ min-height: 140px; }

/* 폼 행과의 간격 유지 */
.form-col .textarea{ margin: 0; }

.spine--skeleton{
  position: relative;
  height: 180px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  writing-mode: vertical-rl;
  border-radius: 2px;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,0.08);
  background: linear-gradient(90deg, #f2f2f2 25%, #f7f7f7 37%, #f2f2f2 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s ease-in-out infinite;
}

.badge--skeleton{
  position: absolute; top: 4px; right: 4px;
  width: 28px; height: 12px; border-radius: 3px;
  background: rgba(255,255,255,.4);
}

.spine__title{
  width: 70%;
  height: 60%;
  opacity: .4;
}

.spine__progress{
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  line-height: 1;
  opacity: .85;
  pointer-events: none;
}

.progress-box{
  display: grid;
  gap: 6px;
  margin: 6px 0 10px;
}
.progress-label{
  font-size: 13px;
  opacity: .9;
}
.progress-bar{
  position: relative;
  height: 8px;
  border-radius: 999px;
  background: var(--color-border);
  overflow: hidden;
}
.progress-fill{
  height: 100%;
  width: 0%;
  background: var(--color-accent);
  transition: width .25s ease;
}

.shimmer-line{
  background: rgba(255,255,255,.35);
  border-radius: 2px;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.detail-skeleton{
  display: grid;
  gap: 10px;
  padding: 6px 0 4px;
}
.sk-line{
  height: 14px;
  border-radius: 6px;
  background: linear-gradient(90deg, #f2f2f2 25%, #f7f7f7 37%, #f2f2f2 63%);
  background-size: 400% 100%;
  animation: sk 1.2s ease-in-out infinite;
}
.sk-title{ height: 22px; }
.sk-sub{ height: 14px; }
.sk-sub.short{ width: 40%; }
.sk-btn{
  width: 120px; height: 34px; border-radius: 6px;
  background: linear-gradient(90deg, #f2f2f2 25%, #f7f7f7 37%, #f2f2f2 63%);
  background-size: 400% 100%;
  animation: sk 1.2s ease-in-out infinite;
}

@keyframes sk {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@media (min-width: 768px) {
  .shelf{
    grid-template-columns: repeat(8, minmax(0, 1fr));
  }
}

/* ≥1024px: 10열 */
@media (min-width: 1024px) {
  .shelf{
    grid-template-columns: repeat(10, minmax(0, 1fr));
  }
}

/* ≥1280px: 12열 */
@media (min-width: 1280px) {
  .shelf{
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }
}